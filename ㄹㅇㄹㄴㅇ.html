//글씨 쪼개기 - 한 섹션의 텍스트만 쪼개기
// let text = document.querySelector("#section1 .content__item__desc"); //첫번째 텍스트
// let splitText = text.innerText;
// //문자열 객체 참고
// let splitWrap = splitText.split('').join('&lt;/span&gt;&lt;span&gt;');
// text.innerHTML = splitWrap = "&lt;span&gt;" + splitWrap + "&lt;/span&gt;";


//글씨 쪼개기 (여러개 : forEach문 이용 쿼리 All)
// let text = document.querySelectorAll("#contents .content__item__desc");
// text.forEach(el =&gt; {
//   let splitText = el.innerText;
//   let splitWrap = splitText.split('').join('&lt;/span&gt;&lt;span&gt;');
//   el.innerHTML = splitWrap = "&lt;span&gt;" + splitWrap + "&lt;/span&gt;";
// });


//01
//글씨 쪼개기 다중 : 쪼개고 싶은 요소에 클래스를 추가 시켜 그 클래스를 모두 가져온다.
//그 뒤 문자열 메서드 split을 통해 텍스트를 하나씩 쪼개 주고 join()을 이용하여 각각 span태그를 감싸준다.(이때 닫는 태그와 여는 태그가 반대로 되므로 join순서를 반대로 써준다.)
//쪼갰을 때 접근성이 좋지 않기 때문에 문자열 메서드인 join()으로 넣어준 span태그 안에 aria-hidden='true' 속성을 넣어 숨겨준다.(스크린 리더기에만 안읽힘.)
document.querySelectorAll(".split").forEach(text =&gt; {
    let splitText = text.innerText;
    let splitWrap = splitText.split('').join("&lt;/span&gt;&lt;span aria-hidden='true'&gt;");
    //가장 앞 부분과 뒷부분에는 join이 먹히지 않으므로 따로 변수 안에 텍스트를 추가시킨다.
    splitWrap = "&lt;span aria-hidden='true'&gt;" + splitWrap + "&lt;/span&gt;";
    //위의 바뀐 변수 값을 다시 저장시킨다.
    text.innerHTML = splitWrap;
    //위에 숨긴 텍스트를 리더기에 읽히기 하기 위해 aria-label 속성을 붙여준다.
    text.setAttribute("aria-label", splitText);
    // console.log(splitText);
});


//02
//스크롤 값 구하고 스크롤 움직일 때 애니메이션 구현하기.
function scroll() {
    let scrollTop = window.scrollY;
    document.querySelector("#parallax__info .scroll").innerText = Math.round(scrollTop);

    //CSS 스타일 설정을 위한 클래스 추가 스크립트. (노가다 ver. : CSS로 일일히 각 한 텍스트 당 딜레이 설정을 준 뒤 클래스만 추가.)
    // document.querySelectorAll(".content__item").forEach(item =&gt; {
    //   if(scrollTop &gt;= item.offsetTop){
    //     item.querySelector(".split").classList.add("show");
    //   }
    // })
    
    //03 : CSS스타일 주기
    document.querySelectorAll(".content__item").forEach(item =&gt; {
    //만약 스크롤값이 각 섹션의 오프셋 값과 같다면.
    if( scrollTop &gt;= item.offsetTop){
        //span태그를 모두 선택하여 인덱스 값까지 불러온 뒤 (span = element)
        item.querySelectorAll(".split span").forEach((element, index) =&gt; {
        //클래스 리스너를 통해 span 요소에게 클래스 show를 넣어 텍스트가 보이도록 합니다.
        element.classList.add("show");

        //또한 CSS속성 중 딜레이를 추가하여 한 글자 당 50ms씩 움직이도록 한다.
        element.style.transitionDelay = `${index * 50}ms`;
        });
    }
    });

    requestAnimationFrame(scroll); //계속 반복될 수 있도록 재귀함수 사용.(1초에 60번 실행.)

}
scroll(); //실행